@page "/events"
@using core.Models

<h3>Create Event</h3>
<EditForm Model="NewEvent" OnValidSubmit="CreateEventNow" class="card announcement-card">
    <div class="form-group">
        <label for="Title">Titel</label>
        <InputText id="Title" @bind-Value="NewEvent.Title" class="form-control" placeholder="Indtast Titel"/>
    </div>
    <div class="form-group">
        <label for="Date">Dato</label>
        <InputDate id="Date" @bind-Value="NewEvent.DateForEvent" class="form-control"/>
    </div>
    <div class="form-group">
        <label for="Location">Lokation</label>
        <InputSelect id="Location" @bind-Value="NewEvent.LocationId" class="form-control">
            <option value="">Vælg Lokation</option>
            @foreach (var location in Locations)
            {
                <option value="@location.Id">@location.Name</option>
            }
        </InputSelect>
    </div>
    <div class="form-group">
        <label for="FoodChoice">Madvalg</label>
        <InputText id="FoodChoice" @bind-Value="NewEvent.FoodChoices" class="form-control" placeholder="Indtast madvalg"/>
    </div>
    <div class="form-group">
        <label for="SpecialRequest">Særlige mad behov</label>
        <InputText id="SpecialRequest" @bind-Value="NewEvent.SpecialRequest" class="form-control" placeholder="Indtast special ønsker til mad"/>
    </div>
    <div class="form-group">
        <label for="Participant">Deltagere</label>
        <InputNumber id="Participant" @bind-Value="NewEvent.Participants" class="form-control"/>
    </div>
    <div class="form-group">
        <button class="btn btn-primary">Opret Event</button>
    </div>
</EditForm>

<p>Event-oplysninger:</p>
<ul>
    <li><strong>Navn:</strong> @NewEvent.Title</li>
    <li><strong>Dato:</strong> @NewEvent.DateForEvent.ToString("yyyy-MM-dd")</li>
    <li><strong>Lokation:</strong> @Locations.FirstOrDefault(l => l.Id == NewEvent.LocationId)?.Name ?? "Not selected"</li>
    <li><strong>Madvalg:</strong> @NewEvent.FoodChoices</li>
    <li><strong>Særlige mad behov:</strong> @NewEvent.SpecialRequest</li>
    <li><strong>Antal deltagere:</strong> @NewEvent.Participants</li>
</ul>

@code {
    private TaskEvent NewEvent { get; set; } = new TaskEvent();

    private List<Location> Locations { get; set; } = new List<Location>
    {
        new Location { Id = 1, Name = "Copenhagen" },
        new Location { Id = 2, Name = "Aarhus" }
    };

    private string message = string.Empty;

    private void CreateEventNow()
    {
    }
}

